stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos") +
scale_x_continuous(breaks = seq(min(df$tempo), max(df$tempo), by = 5))
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
df$tempo <- as.numeric(df$tempo)
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos") +
scale_x_continuous(breaks = seq(min(df$tempo), max(df$tempo), by = 5))
View(df)
View(df)
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
df$tempo <- as.numeric(format(df$tempo, "%Y"))
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos") +
scale_x_continuous(breaks = seq(min(df$tempo), max(df$tempo), by = 5))
View(df)
View(df)
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
df$tempo <- as.numeric(format(df$tempo, "%Y"))
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos") +
scale_x_continuous(breaks = seq(min(df$tempo), max(df$tempo), by = 5))
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
df$tempo <- as.numeric(format(df$tempo, "%Y"))
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos") +
scale_x_continuous(breaks = seq(min(df$tempo,na.rm = TRUE), max(df$tempo,na.rm = TRUE), by = 5))
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Convert 'tempo' to Date object if it isn't already
df$tempo <- as.Date(df$tempo)
# Extract the year from the date for use in the x-axis
df$year <- as.numeric(format(df$tempo, "%Y"))
# Use the year for the x-axis in the plot
meltdf <- melt(df, id=c("tempo", "year"))
plot <- ggplot(meltdf, aes(x=year, y=value, colour=variable, group=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"), labels=c("TPP", "DDesemp")) +
theme_minimal()
# Add the custom theme and x-axis breaks
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos") +
scale_x_continuous(breaks = seq(min(df$year, na.rm = TRUE), max(df$year, na.rm = TRUE), by = 5))
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) + geom_area(alpha=0.6) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,fill=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) + geom_area(alpha=0.6) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable, fill=variable)) +
geom_point(size=0.7) + geom_area(alpha=0.6) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable, fill=variable)) +
geom_area(alpha=0.6) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable, fill=variable)) +
geom_area(alpha=0.6) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable, fill=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) + stat_difference(aes(ymin = tpp, ymax = ddesemp), alpha = 0.3) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
library(readxl)
library(tidyverse)
library(reshape2)
library(geofacet)
devtools::install_github("teunbrand/ggh4x")
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable, fill=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
View(df)
View(df)
View(df)
View(df)
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Add a column that represents the overlapping region
df$Intersection <- pmin(df$tpp, df$ddesemp)
# Melt the dataframe again, including the new column
meltdf <- melt(df, id = "tempo")
# Create a subset of the melted dataframe that only contains the intersection
intersection <- subset(meltdf, variable == "Intersection")
# Plot the lines and points as before
plot <- ggplot(meltdf, aes(x = tempo, y = value, colour = variable, group = variable)) +
geom_line(aes(fill = variable), size = 0.5, alpha = 0.6) +
geom_point(size = 0.7) +
scale_color_manual(values = c("#D65DB1", "#9270D3", "#000000"), labels = c("TPP", "DDesemp", "Intersection")) +
theme_minimal()
# Add the filled intersection
plot <- plot + geom_area(data = intersection, aes(x = tempo, y = value, fill = variable), alpha = 0.5)
# Add the legend and axis labels
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable, fill=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
# Unmelt your dataframe
wide_df <- dcast(meltdf, tempo ~ variable, value.var = "value")
# Create a new data frame to capture the intersection
intersection <- data.frame(
tempo = wide_df$tempo,
min = pmin(wide_df$tpp, wide_df$ddesemp),
max = pmax(wide_df$tpp, wide_df$ddesemp)
)
# Use geom_ribbon to color the area between the two lines
plot + geom_ribbon(data = intersection, aes(x = tempo, ymin = min, ymax = max), fill = "gray", alpha = 0.5)
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable, fill=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable, fill=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) + geom_ribbon() +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable, fill=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7) +
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
# Plot Theming
plot + theme(legend.position = "bottom") +
theme(legend.title = element_blank()) +
theme(legend.key = element_rect(fill = "white", colour = "black")) +
labs(y = "", x = "Anos")
library(readxl)
library(tidyverse)
library(reshape2)
df <- read_excel("econ.xlsx")[223:575, c(1, 4:5)]
# Apply variable transformation
stdd_tpp = sd(df[[2]], na.rm = TRUE)
mean_tpp = mean(df[[2]], na.rm = TRUE)
stdd_ddesemp = sd(df[[3]], na.rm = TRUE)
mean_ddesemp = mean(df[[3]], na.rm = TRUE)
for(i in 1:nrow(df)) {
df[i, 2] <- (df[i, 2] - mean_tpp)/stdd_tpp
df[i, 3] <- (df[i, 3] - mean_ddesemp)/stdd_ddesemp
}
# Plot
meltdf <- melt(df,id="tempo")
plot <- ggplot(meltdf,aes(x=tempo,y=value,colour=variable,group=variable, fill=variable)) +
geom_line(size=0.5, alpha=0.6) + geom_point(size=0.7)
scale_color_manual(values=c("#D65DB1", "#9270D3"),labels=c("TPP", "DDesemp")) +
theme_minimal()
